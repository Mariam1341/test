{"ast":null,"code":"import _defineProperty from\"/workspaces/Project-glassdoor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/workspaces/Project-glassdoor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/workspaces/Project-glassdoor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useRef}from'react';import styles from'./EmployersBody.module.css';import axios from'axios';import{ModalPage}from'../Modal/Modal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function EmployersBody(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),fileName=_useState4[0],setFileName=_useState4[1];var logoRef=useRef();var _useState5=useState({isOpen:false,messege:\"\"}),_useState6=_slicedToArray(_useState5,2),modalStatus=_useState6[0],setModalStatus=_useState6[1];var handleHideModal=function handleHideModal(){setTimeout(function(){setModalStatus(_objectSpread(_objectSpread({},modalStatus),{},{isOpen:false,messege:\"\"}));},3000);};var extractValue=function extractValue(str){var idx=0;for(var i=str.length-1;i>=0;i--){if(str[i]===\"\\\\\"){idx=i;break;}}return str.slice(idx+1);};function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;if(name===\"name\"){value=value[0].toUpperCase()+value.substring(1);}if(name===\"logo\"){setFileName(extractValue(value));var reader=new FileReader();reader.readAsDataURL(e.target.files[0]);reader.onload=function(e){setData(_objectSpread(_objectSpread({},data),{},_defineProperty({},name,e.target.result)));return;};}setData(_objectSpread(_objectSpread({},data),{},_defineProperty({},name,value)));}var handleSubmit=function handleSubmit(e){e.preventDefault();var getRating=function getRating(){var rating=0;while(rating<3){rating=(Math.random()*5).toFixed(1);}return rating;};data.rating=getRating();if(data.logo===undefined){data.logo=\"https://img.icons8.com/ios-glyphs/90/000000/organization.png\";}axios.post(\"https://glassdoor-clone-server.herokuapp.com/companies\",data).then(function(res){console.log(res);}).catch(function(err){console.log(err);});setModalStatus(_objectSpread(_objectSpread({},modalStatus),{},{isOpen:true,messege:\"Company registered successfully!\"}));handleHideModal();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ModalPage,{isOpen:modalStatus.isOpen,messege:modalStatus.messege}),/*#__PURE__*/_jsx(\"div\",{className:styles.body_top}),/*#__PURE__*/_jsx(\"div\",{className:styles.form_outer,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.form_container,children:[/*#__PURE__*/_jsxs(\"form\",{action:\"\",className:styles.form,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Company Name \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"text\",name:\"name\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Website \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"text\",name:\"website\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Total Employees \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"text\",name:\"totalEmployee\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Salary Range \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"text\",name:\"Salary\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Annual Revenue \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"text\",name:\"Revenue\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Year Founded \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"text\",name:\"foundedYear\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Company Status \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"text\",name:\"status\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Sectors \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"text\",name:\"companyType\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Company CEO \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"text\",name:\"ceo\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"label\",{className:styles.imgIcon,children:[\"Select Logo  \",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-images\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:styles.uploadBtn,type:\"text\",readOnly:true,placeholder:\"Upload File\",onClick:function onClick(e){logoRef.current.click();}}),\" \",/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"p\",{className:styles.chosenFile,children:fileName}),/*#__PURE__*/_jsx(\"input\",{style:{display:'none'},onChange:handleChange,ref:logoRef,type:\"file\",name:\"logo\",id:styles.chooselogo})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Create Account\"})]})})]});}","map":{"version":3,"sources":["/workspaces/Project-glassdoor/src/components/GdforEmployers/EmployersBody.jsx"],"names":["useState","useRef","styles","axios","ModalPage","EmployersBody","data","setData","fileName","setFileName","logoRef","isOpen","messege","modalStatus","setModalStatus","handleHideModal","setTimeout","extractValue","str","idx","i","length","slice","handleChange","e","target","name","value","toUpperCase","substring","reader","FileReader","readAsDataURL","files","onload","result","handleSubmit","preventDefault","getRating","rating","Math","random","toFixed","logo","undefined","post","then","res","console","log","catch","err","body_top","form_outer","form_container","form","imgIcon","uploadBtn","current","click","chosenFile","display","chooselogo"],"mappings":"6bAAA,OAASA,QAAT,CAAmBC,MAAnB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,KAA0B,gBAA1B,C,wFAEA,MAAO,SAASC,CAAAA,aAAT,EAAyB,CAE5B,cAAwBL,QAAQ,CAAC,EAAD,CAAhC,wCAAOM,IAAP,eAAaC,OAAb,eACA,eAAgCP,QAAQ,CAAC,EAAD,CAAxC,yCAAOQ,QAAP,eAAiBC,WAAjB,eACA,GAAMC,CAAAA,OAAO,CAAGT,MAAM,EAAtB,CACA,eAAsCD,QAAQ,CAAC,CAC3CW,MAAM,CAAE,KADmC,CAE3CC,OAAO,CAAE,EAFkC,CAAD,CAA9C,yCAAOC,WAAP,eAAoBC,cAApB,eAKA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC1BC,UAAU,CAAC,UAAM,CACbF,cAAc,gCAAKD,WAAL,MAAkBF,MAAM,CAAE,KAA1B,CAAiCC,OAAO,CAAE,EAA1C,GAAd,CACH,CAFS,CAER,IAFQ,CAAV,CAGH,CAJD,CAMA,GAAMK,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,GAAD,CAAS,CAC1B,GAAIC,CAAAA,GAAG,CAAG,CAAV,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAGF,GAAG,CAACG,MAAJ,CAAa,CAA1B,CAA6BD,CAAC,EAAI,CAAlC,CAAqCA,CAAC,EAAtC,CAA0C,CACtC,GAAIF,GAAG,CAACE,CAAD,CAAH,GAAW,IAAf,CAAqB,CACjBD,GAAG,CAAGC,CAAN,CACA,MACH,CACJ,CAED,MAAOF,CAAAA,GAAG,CAACI,KAAJ,CAAUH,GAAG,CAAG,CAAhB,CAAP,CACH,CAVD,CAYA,QAASI,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACrB,cAAsBA,CAAC,CAACC,MAAxB,CAAMC,IAAN,WAAMA,IAAN,CAAYC,KAAZ,WAAYA,KAAZ,CAEA,GAAID,IAAI,GAAK,MAAb,CAAqB,CACjBC,KAAK,CAAGA,KAAK,CAAC,CAAD,CAAL,CAASC,WAAT,GAAyBD,KAAK,CAACE,SAAN,CAAgB,CAAhB,CAAjC,CACH,CAED,GAAIH,IAAI,GAAK,MAAb,CAAqB,CACjBjB,WAAW,CAACQ,YAAY,CAACU,KAAD,CAAb,CAAX,CACA,GAAIG,CAAAA,MAAM,CAAG,GAAIC,CAAAA,UAAJ,EAAb,CACAD,MAAM,CAACE,aAAP,CAAqBR,CAAC,CAACC,MAAF,CAASQ,KAAT,CAAe,CAAf,CAArB,EAEAH,MAAM,CAACI,MAAP,CAAgB,SAACV,CAAD,CAAO,CACnBjB,OAAO,gCAAMD,IAAN,wBAAaoB,IAAb,CAAoBF,CAAC,CAACC,MAAF,CAASU,MAA7B,GAAP,CACA,OACH,CAHD,CAIH,CAED5B,OAAO,gCAAMD,IAAN,wBAAaoB,IAAb,CAAoBC,KAApB,GAAP,CACH,CAGD,GAAMS,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACZ,CAAD,CAAO,CACxBA,CAAC,CAACa,cAAF,GAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpB,GAAIC,CAAAA,MAAM,CAAG,CAAb,CACA,MAAOA,MAAM,CAAG,CAAhB,CAAmB,CACfA,MAAM,CAAG,CAACC,IAAI,CAACC,MAAL,GAAgB,CAAjB,EAAoBC,OAApB,CAA4B,CAA5B,CAAT,CACH,CAED,MAAOH,CAAAA,MAAP,CACH,CAPD,CASAjC,IAAI,CAACiC,MAAL,CAAcD,SAAS,EAAvB,CAEA,GAAIhC,IAAI,CAACqC,IAAL,GAAcC,SAAlB,CAA6B,CACzBtC,IAAI,CAACqC,IAAL,CAAY,8DAAZ,CACH,CAGDxC,KAAK,CAAC0C,IAAN,CAAW,wDAAX,CAAqEvC,IAArE,EAA2EwC,IAA3E,CAAgF,SAACC,GAAD,CAAS,CACrFC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAFD,EAEGG,KAFH,CAES,SAACC,GAAD,CAAS,CACdH,OAAO,CAACC,GAAR,CAAYE,GAAZ,EACH,CAJD,EAMArC,cAAc,gCAAKD,WAAL,MAAkBF,MAAM,CAAE,IAA1B,CAAgCC,OAAO,CAAE,kCAAzC,GAAd,CACAG,eAAe,GAClB,CA3BD,CA6BA,mBACI,oCACI,KAAC,SAAD,EAAW,MAAM,CAAEF,WAAW,CAACF,MAA/B,CAAuC,OAAO,CAAEE,WAAW,CAACD,OAA5D,EADJ,cAEI,YAAK,SAAS,CAAEV,MAAM,CAACkD,QAAvB,EAFJ,cAKI,YAAK,SAAS,CAAElD,MAAM,CAACmD,UAAvB,uBACI,aAAK,SAAS,CAAEnD,MAAM,CAACoD,cAAvB,wBACI,cAAM,MAAM,CAAC,EAAb,CAAgB,SAAS,CAAEpD,MAAM,CAACqD,IAAlC,wBAEI,sDAAqB,aAArB,kBAA4B,cAAO,QAAQ,CAAEhC,YAAjB,CAA+B,IAAI,CAAC,MAApC,CAA2C,IAAI,CAAC,MAAhD,EAA5B,cAAqF,aAArF,GAFJ,cAII,iDAAgB,aAAhB,kBAAuB,cAAO,QAAQ,CAAEA,YAAjB,CAA+B,IAAI,CAAC,MAApC,CAA2C,IAAI,CAAC,SAAhD,EAAvB,cAAmF,aAAnF,GAJJ,cAKI,yDAAwB,aAAxB,kBAA+B,cAAO,QAAQ,CAAEA,YAAjB,CAA+B,IAAI,CAAC,MAApC,CAA2C,IAAI,CAAC,eAAhD,EAA/B,cAAiG,aAAjG,GALJ,cAMI,sDAAqB,aAArB,kBAA4B,cAAO,QAAQ,CAAEA,YAAjB,CAA+B,IAAI,CAAC,MAApC,CAA2C,IAAI,CAAC,QAAhD,EAA5B,cAAuF,aAAvF,GANJ,cAOI,wDAAuB,aAAvB,kBAA8B,cAAO,QAAQ,CAAEA,YAAjB,CAA+B,IAAI,CAAC,MAApC,CAA2C,IAAI,CAAC,SAAhD,EAA9B,cAA0F,aAA1F,GAPJ,cAQI,sDAAqB,aAArB,kBAA4B,cAAO,QAAQ,CAAEA,YAAjB,CAA+B,IAAI,CAAC,MAApC,CAA2C,IAAI,CAAC,aAAhD,EAA5B,cAA4F,aAA5F,GARJ,cAUI,wDAAuB,aAAvB,kBAA8B,cAAO,QAAQ,CAAEA,YAAjB,CAA+B,IAAI,CAAC,MAApC,CAA2C,IAAI,CAAC,QAAhD,EAA9B,cAAyF,aAAzF,GAVJ,cAWI,iDAAgB,aAAhB,kBAAuB,cAAO,QAAQ,CAAEA,YAAjB,CAA+B,IAAI,CAAC,MAApC,CAA2C,IAAI,CAAC,aAAhD,EAAvB,cAAuF,aAAvF,GAXJ,cAYI,qDAAoB,aAApB,kBAA2B,cAAO,QAAQ,CAAEA,YAAjB,CAA+B,IAAI,CAAC,MAApC,CAA2C,IAAI,CAAC,KAAhD,EAA3B,cAAmF,aAAnF,GAZJ,cAeI,eAAO,SAAS,CAAErB,MAAM,CAACsD,OAAzB,wCAA+C,UAAG,SAAS,CAAC,eAAb,EAA/C,kBAAiF,aAAjF,cAAuF,cAAO,SAAS,CAAEtD,MAAM,CAACuD,SAAzB,CAAoC,IAAI,CAAC,MAAzC,CAAgD,QAAQ,KAAxD,CAAyD,WAAW,CAAC,aAArE,CAAmF,OAAO,CAAE,iBAACjC,CAAD,CAAO,CAAEd,OAAO,CAACgD,OAAR,CAAgBC,KAAhB,GAAyB,CAA9H,EAAvF,kBAA0N,aAA1N,GAfJ,cAgBI,UAAG,SAAS,CAAEzD,MAAM,CAAC0D,UAArB,UAAkCpD,QAAlC,EAhBJ,cAiBI,cAAO,KAAK,CAAE,CAAEqD,OAAO,CAAE,MAAX,CAAd,CAAmC,QAAQ,CAAEtC,YAA7C,CAA2D,GAAG,CAAEb,OAAhE,CAAyE,IAAI,CAAC,MAA9E,CAAqF,IAAI,CAAC,MAA1F,CAAiG,EAAE,CAAER,MAAM,CAAC4D,UAA5G,EAjBJ,GADJ,cAsBI,eAAQ,OAAO,CAAE1B,YAAjB,4BAtBJ,GADJ,EALJ,GADJ,CAkCH","sourcesContent":["import { useState, useRef } from 'react';\nimport styles from './EmployersBody.module.css';\nimport axios from 'axios'\nimport { ModalPage } from '../Modal/Modal';\n\nexport function EmployersBody() {\n\n    const [data, setData] = useState({});\n    const [fileName, setFileName] = useState(\"\");\n    const logoRef = useRef();\n    const [modalStatus, setModalStatus] = useState({\n        isOpen: false,\n        messege: \"\"\n    });\n\n    const handleHideModal = () => {\n        setTimeout(() => {\n            setModalStatus({...modalStatus, isOpen: false, messege: \"\"});\n        },3000)\n    }\n\n    const extractValue = (str) => {\n        let idx = 0;\n        for (let i = str.length - 1; i >= 0; i--) {\n            if (str[i] === \"\\\\\") {\n                idx = i;\n                break;\n            }\n        }\n\n        return str.slice(idx + 1);\n    }\n\n    function handleChange(e) {\n        var { name, value } = e.target;\n\n        if (name === \"name\") {\n            value = value[0].toUpperCase() + value.substring(1);\n        }\n\n        if (name === \"logo\") {\n            setFileName(extractValue(value));\n            let reader = new FileReader();\n            reader.readAsDataURL(e.target.files[0]);\n\n            reader.onload = (e) => {\n                setData({ ...data, [name]: e.target.result })\n                return;\n            }\n        }\n\n        setData({ ...data, [name]: value });\n    }\n\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        const getRating = () => {\n            let rating = 0;\n            while (rating < 3) {\n                rating = (Math.random() * 5).toFixed(1);\n            }\n\n            return rating;\n        }\n\n        data.rating = getRating();\n\n        if (data.logo === undefined) {\n            data.logo = \"https://img.icons8.com/ios-glyphs/90/000000/organization.png\";\n        }\n\n\n        axios.post(\"https://glassdoor-clone-server.herokuapp.com/companies\", data).then((res) => {\n            console.log(res);\n        }).catch((err) => {\n            console.log(err);\n        })\n\n        setModalStatus({...modalStatus, isOpen: true, messege: \"Company registered successfully!\"});\n        handleHideModal();\n    }\n\n    return (\n        <div>\n            <ModalPage isOpen={modalStatus.isOpen} messege={modalStatus.messege} />\n            <div className={styles.body_top}>\n\n            </div>\n            <div className={styles.form_outer}>\n                <div className={styles.form_container}>\n                    <form action=\"\" className={styles.form}>\n\n                        <label >Company Name <br /> <input onChange={handleChange} type=\"text\" name=\"name\" /><br /></label>\n\n                        <label >Website <br /> <input onChange={handleChange} type=\"text\" name=\"website\" /><br /></label>\n                        <label >Total Employees <br /> <input onChange={handleChange} type=\"text\" name=\"totalEmployee\" /><br /></label>\n                        <label >Salary Range <br /> <input onChange={handleChange} type=\"text\" name=\"Salary\" /><br /></label>\n                        <label >Annual Revenue <br /> <input onChange={handleChange} type=\"text\" name=\"Revenue\" /><br /></label>\n                        <label >Year Founded <br /> <input onChange={handleChange} type=\"text\" name=\"foundedYear\" /><br /></label>\n\n                        <label >Company Status <br /> <input onChange={handleChange} type=\"text\" name=\"status\" /><br /></label>\n                        <label >Sectors <br /> <input onChange={handleChange} type=\"text\" name=\"companyType\" /><br /></label>\n                        <label >Company CEO <br /> <input onChange={handleChange} type=\"text\" name=\"ceo\" /><br /></label>\n\n\n                        <label className={styles.imgIcon}>Select Logo  <i className=\"fas fa-images\"></i> <br /><input className={styles.uploadBtn} type=\"text\" readOnly placeholder=\"Upload File\" onClick={(e) => { logoRef.current.click() }} /> <br /></label>\n                        <p className={styles.chosenFile}>{fileName}</p>\n                        <input style={{ display: 'none' }} onChange={handleChange} ref={logoRef} type=\"file\" name=\"logo\" id={styles.chooselogo} />\n\n                    </form>\n\n                    <button onClick={handleSubmit}>Create Account</button>\n                </div>\n            </div>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}