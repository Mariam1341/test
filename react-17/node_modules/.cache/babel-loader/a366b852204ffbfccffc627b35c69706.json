{"ast":null,"code":"import _defineProperty from\"/workspaces/Project-glassdoor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/workspaces/Project-glassdoor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/workspaces/Project-glassdoor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useRef}from'react';import styles from'../GdforEmployers/EmployersBody.module.css';import axios from'axios';import{ModalPage}from'../Modal/Modal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function Postjobbody(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),fileName=_useState4[0],setFileName=_useState4[1];var logoRef=useRef();var _useState5=useState({isOpen:false,messege:\"\"}),_useState6=_slicedToArray(_useState5,2),modalStatus=_useState6[0],setModalStatus=_useState6[1];var handleHideModal=function handleHideModal(){setTimeout(function(){setModalStatus(_objectSpread(_objectSpread({},modalStatus),{},{isOpen:false,messege:\"\"}));},3000);};var extractValue=function extractValue(str){var idx=0;for(var i=str.length-1;i>=0;i--){if(str[i]===\"\\\\\"){idx=i;break;}}return str.slice(idx+1);};function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;if(name===\"name\"){value=value[0].toUpperCase()+value.substring(1);}if(name===\"imgUrl\"){setFileName(extractValue(value));var reader=new FileReader();reader.readAsDataURL(e.target.files[0]);reader.onload=function(e){setData(_objectSpread(_objectSpread({},data),{},_defineProperty({},name,e.target.result)));return;};}setData(_objectSpread(_objectSpread({},data),{},_defineProperty({},name,value)));}var handleSubmit=function handleSubmit(e){e.preventDefault();var getRating=function getRating(){var rating=0;while(rating<3){rating=(Math.random()*5).toFixed(1);}return rating;};data.rating=getRating();if(data.imgUrl===undefined){data.imgUrl=\"https://img.icons8.com/ios-glyphs/90/000000/organization.png\";}axios.post(\"https://glassdoor-clone-server.herokuapp.com/jobList\",data).then(function(res){console.log(res);}).catch(function(err){console.log(err);});setModalStatus(_objectSpread(_objectSpread({},modalStatus),{},{isOpen:true,messege:\"Job posted successfully!\"}));handleHideModal();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ModalPage,{isOpen:modalStatus.isOpen,messege:modalStatus.messege}),/*#__PURE__*/_jsx(\"div\",{className:styles.body_top}),/*#__PURE__*/_jsx(\"div\",{className:styles.form_outer,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.form_container,children:[/*#__PURE__*/_jsxs(\"form\",{action:\"\",className:styles.form,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Company Name \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"text\",name:\"company\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Job Profile \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"text\",name:\"jobProfile\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Location \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"text\",name:\"location\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Salary Range\",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsxs(\"select\",{className:styles.salaryRangeSelect,onChange:handleChange,name:\"salaryRange\",id:\"\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"3L-5L\",children:\"3L-5L\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5L-10L\",children:\"5L-10L\"}),/*#__PURE__*/_jsx(\"option\",{value:\"10L-15L\",children:\"10L-15L\"})]}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"label\",{className:styles.imgIcon,children:[\"Select Logo  \",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-images\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:styles.uploadBtn,type:\"text\",readOnly:true,placeholder:\"Upload File\",onClick:function onClick(e){logoRef.current.click();}}),\" \",/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"p\",{className:styles.chosenFile,children:fileName}),/*#__PURE__*/_jsx(\"input\",{style:{display:'none'},onChange:handleChange,ref:logoRef,type:\"file\",name:\"imgUrl\",id:styles.chooselogo})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Prerequisites\"}),/*#__PURE__*/_jsx(\"textarea\",{className:styles.prerequisite,name:\"prerequisite\",id:\"\",cols:\"30\",rows:\"10\",onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Post Job\"})]})})]});}","map":{"version":3,"sources":["/workspaces/Project-glassdoor/src/components/Postjob/Postjobbody.jsx"],"names":["useState","useRef","styles","axios","ModalPage","Postjobbody","data","setData","fileName","setFileName","logoRef","isOpen","messege","modalStatus","setModalStatus","handleHideModal","setTimeout","extractValue","str","idx","i","length","slice","handleChange","e","target","name","value","toUpperCase","substring","reader","FileReader","readAsDataURL","files","onload","result","handleSubmit","preventDefault","getRating","rating","Math","random","toFixed","imgUrl","undefined","post","then","res","console","log","catch","err","body_top","form_outer","form_container","form","salaryRangeSelect","imgIcon","uploadBtn","current","click","chosenFile","display","chooselogo","prerequisite"],"mappings":"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","sourcesContent":["import { useState, useRef } from 'react'\nimport styles from '../GdforEmployers/EmployersBody.module.css';\nimport axios from 'axios';\nimport { ModalPage } from '../Modal/Modal';\n\n\nexport function Postjobbody() {\n\n    const [data, setData] = useState({});\n    const [fileName, setFileName] = useState(\"\");\n    const logoRef = useRef();\n    const [modalStatus, setModalStatus] = useState({\n        isOpen: false,\n        messege: \"\"\n    });\n\n    const handleHideModal = () => {\n        setTimeout(() => {\n            setModalStatus({...modalStatus, isOpen: false, messege: \"\"});\n        },3000)\n    }\n\n    const extractValue = (str) => {\n        let idx = 0;\n        for (let i = str.length - 1; i >= 0; i--) {\n            if (str[i] === \"\\\\\") {\n                idx = i;\n                break;\n            }\n        }\n\n        return str.slice(idx + 1);\n    }\n\n\n    function handleChange(e) {\n        var { name, value } = e.target;\n\n        if (name === \"name\") {\n            value = value[0].toUpperCase() + value.substring(1);\n        }\n\n        if (name === \"imgUrl\") {\n            setFileName(extractValue(value));\n            let reader = new FileReader();\n            reader.readAsDataURL(e.target.files[0]);\n\n            reader.onload = (e) => {\n                setData({ ...data, [name]: e.target.result });\n                return;\n            }\n        }\n\n        setData({ ...data, [name]: value });\n    }\n\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        const getRating = () => {\n            let rating = 0;\n            while (rating < 3) {\n                rating = (Math.random() * 5).toFixed(1);\n            }\n\n            return rating;\n        }\n\n        data.rating = getRating();\n        if (data.imgUrl === undefined) {\n            data.imgUrl = \"https://img.icons8.com/ios-glyphs/90/000000/organization.png\";\n        }\n\n        axios.post(\"https://glassdoor-clone-server.herokuapp.com/jobList\", data).then((res) => {\n            console.log(res);\n        }).catch((err) => {\n            console.log(err);\n        })\n\n        setModalStatus({...modalStatus, isOpen: true, messege: \"Job posted successfully!\"});\n        handleHideModal();\n    }\n\n\n    return (\n        <div>\n            <ModalPage isOpen={modalStatus.isOpen} messege={modalStatus.messege} />\n            <div className={styles.body_top}>\n\n            </div>\n            <div className={styles.form_outer}>\n                <div className={styles.form_container}>\n                    <form action=\"\" className={styles.form}>\n\n                        <label >Company Name <br /> <input onChange={handleChange} type=\"text\" name=\"company\" /><br /></label>\n                        <label >Job Profile <br /> <input onChange={handleChange} type=\"text\" name=\"jobProfile\" /><br /></label>\n                        <label >Location <br /> <input onChange={handleChange} type=\"text\" name=\"location\" /><br /></label>\n\n                        <label >Salary Range<br /> <select className={styles.salaryRangeSelect} onChange={handleChange} name=\"salaryRange\" id=\"\">\n                            <option value=\"3L-5L\">3L-5L</option>\n                            <option value=\"5L-10L\">5L-10L</option>\n                            <option value=\"10L-15L\">10L-15L</option>\n                        </select><br /></label>\n\n\n                        <label className={styles.imgIcon}>Select Logo  <i className=\"fas fa-images\"></i> <br /><input className={styles.uploadBtn} type=\"text\" readOnly placeholder=\"Upload File\" onClick={(e) => { logoRef.current.click() }} /> <br /></label>\n                        <p className={styles.chosenFile}>{fileName}</p>\n                        <input style={{ display: 'none' }} onChange={handleChange} ref={logoRef} type=\"file\" name=\"imgUrl\" id={styles.chooselogo} />\n\n\n\n\n\n\n\n                    </form>\n                    <h3>Prerequisites</h3>\n                    <textarea className={styles.prerequisite} name=\"prerequisite\" id=\"\" cols=\"30\" rows=\"10\" onChange={handleChange}></textarea>\n\n                    <button onClick={handleSubmit}>Post Job</button>\n                </div>\n            </div>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}